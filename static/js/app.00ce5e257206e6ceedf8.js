webpackJsonp([1],{"/KV2":function(t,e){},"0gJ/":function(t,e){},"0jDA":function(t,e){},BgXi:function(t,e){},Dms8:function(t,e){},EfXr:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("7+uW"),n=s("kxiW"),i=s.n(n),r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("main-menu"),this._v(" "),e("router-view")],1)},staticRenderFns:[]};var o=s("VU/8")({name:"App",created:function(){this.$store.dispatch("setAppConfiguration")},computed:{app_title:function(){return this.$store.state.app_title}}},r,!1,function(t){s("UgDq")},null,null).exports,c=s("/ocq"),u={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"index"}},[e("div",{staticClass:"container"},[e("div",{staticClass:"tile is-ancestor"},[e("stations-by-city")],1),this._v(" "),e("div",{staticClass:"tile is-ancestor"},[e("stations-by-sensor")],1),this._v(" "),e("div",{staticClass:"tile is-ancestor"})])])},staticRenderFns:[]};var l=s("VU/8")({name:"Index",data:function(){return{}},created:function(){},computed:{}},u,!1,function(t){s("frSf")},"data-v-58e8fdf0",null).exports,d={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"sensors"}},[e("div",{staticClass:"container"},[e("div",{staticClass:"columns is-multiline is-variable is-2"},this._l(this.sensors,function(t,s){return e("div",{key:s,staticClass:"column is-2"},[e("sensor",{attrs:{s:t}})],1)}),0)])])},staticRenderFns:[]};var m=s("VU/8")({name:"Index",data:function(){return{data:this.sensors}},created:function(){this.$store.dispatch("getSensors")},computed:{sensors:function(){return this.$store.state.sensors.sensors},loading:function(){return this.$store.state.sensors.loading},error:function(){return this.$store.state.sensors.error},errorMsg:function(){return this.$store.state.sensors.errorMsg}}},d,!1,function(t){s("X1Ge")},"data-v-9f3502fa",null).exports,p={name:"InputRange",data:function(){return{data:"",incrementMinutes:60,pickedDate:new Date,pickedTime:null,finalDate:"",dayNames:["Dom","Seg","Ter","Qua","Qui","Sex","Sab"],monthNames:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"]}},created:function(){},methods:{changedTime:function(t){this.pickedTime=t.target.value,this.finalDate=this.pickedDate.getFullYear().toString()+"-"+(this.pickedDate.getMonth()+1).toString()+"-"+this.pickedDate.getDate().toString()+" "+this.pickedTime,this.$emit("hour-changed",this.finalDate)},dateFormatter:function(t){return t.toLocaleDateString("pt-BR")},timeFormatter:function(t){if("string"==typeof t)return t;var e=(t.getMinutes()<10?"0":"")+t.getMinutes();return(t.getHours()<10?"0":"")+t.getHours()+":"+e}},computed:{finalPrintedDateTime:function(){return null===this.pickedTime?"":this.dateFormatter(this.pickedDate)+" "+this.timeFormatter(this.pickedTime)},loading:function(){return this.$store.state.stations.loading},error:function(){return this.$store.state.stations.error},errorMsg:function(){return this.$store.state.stations.errorMsg}},watch:{}},h={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tile is-parent"},[s("article",{staticClass:"tile is-child"},[s("div",{staticClass:"field is-grouped is-grouped-centered"},[s("b-datepicker",{attrs:{placeholder:"Escolha uma data...","date-formatter":t.dateFormatter,"day-names":t.dayNames,"month-names":t.monthNames,icon:"calendar-today"},model:{value:t.pickedDate,callback:function(e){t.pickedDate=e},expression:"pickedDate"}}),t._v(" "),s("b-field",{attrs:{label:"",message:"Hora no formato hh:mm"}},[t.pickedDate?s("b-input",{attrs:{placeholder:"Escolha uma hora...",icon:"clock"},nativeOn:{change:function(e){return t.changedTime(e)}},model:{value:t.pickedTime,callback:function(e){t.pickedTime=e},expression:"pickedTime"}}):t._e()],1)],1),t._v(" "),t.pickedDate&&t.pickedTime?s("b-notification",{attrs:{type:"is-info",closable:!1}},[t._v("\n    Data escolhida: "+t._s(t.finalPrintedDateTime)+"\n    ")]):t._e()],1)])},staticRenderFns:[]};var f={name:"SensorData",props:["s","payload"],data:function(){return{description:"Descrição do sensor",unit:"ºC"}},created:function(){this.payload.codigo=this.s.codigo,console.log(this.payload)},mounted:function(){},methods:{sensorIcon:function(t){var e={1:"weather-windy",2:"temperature-celsius",3:"temperature-celsius",4:"temperature-celsius",5:"weather-pouring",9:"temperature-celsius",13:"temperature-celsius",17:"flash",18:"weather-windy",19:"",20:"weather-windy",22:"weather-rainy",24:"weather-fog",26:"weather-windy",27:"temperature-celsius",28:"temperature-celsius",29:"temperature-celsius",30:"weather-windy",31:"weather-windy",32:"weather-windy",33:"weather-windy",36:"temperature-celsius",37:"temperature-celsius",38:"temperature-celsius",40:"temperature-celsius",48:"temperature-celsius",41:"cup-water",47:"white-balance-sunny",50:"weather-windy",52:"weather-windy",55:"temperature-celsius",56:"temperature-celsius",59:"weather-rainy",60:"weather-rainy",62:"weather-windy",6:"water-percent",53:"water-pump",61:"water-percent",98:"terrain",99:"water-percent",100:"battery-40"};return e.hasOwnProperty(t)?e[t]:"chip"}},computed:{},components:{}},g={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"box has-text-centered"},[s("b-icon",{attrs:{icon:t.sensorIcon(t.s.codigo),size:"is-medium"}}),t._v(" "),s("p",{staticClass:"subtitle"},[t._v(t._s(t.s.descricao))]),t._v(" "),s("p",{staticClass:"subtitle"},[t._v(t._s(t.s.valor)+" ("+t._s(t.s.unidade)+")")])],1)},staticRenderFns:[]};var v={name:"Index",components:{"input-range":s("VU/8")(p,h,!1,function(t){s("Dms8")},"data-v-205f1424",null).exports,"sensor-data":s("VU/8")(f,g,!1,function(t){s("d5cN")},"data-v-3ec8892f",null).exports},data:function(){return{finalDate:"",payload:{},queryObj:{},flag:0}},beforeCreate:function(){},created:function(){this.payload.codigo=this.$route.params.codigo,this.payload.estado=this.$route.params.estado,this.payload.cidade=this.$route.params.cidade,this.$store.dispatch("getStationByCode",this.payload)},methods:{updatedTime:function(t){this.flag=t,this.queryObj.data=t}},computed:{station:function(){return this.$store.state.stations.stationByCode[0]},loading:function(){return this.$store.state.stations.loading},error:function(){return this.$store.state.stations.error},errorMsg:function(){return this.$store.state.stations.errorMsg}},watch:{flag:function(){console.log(this.queryObj)}}},_={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"station"}},[s("div",{staticClass:"container"},[s("p",{staticClass:"title"},[t._v("Estação "+t._s(t.station.nome))]),t._v(" "),t.station.codigo_origem?s("p",{staticClass:"is-small"},[t._v("Código: "+t._s(t.station.codigo_origem)+" ")]):t._e(),t._v(" "),s("p",{staticClass:"is-small"},[t._v("Tipo da estação: "+t._s(t.station.tipo_estacao.descricao)+" ")]),t._v(" "),t.station.sensor?s("p",{staticClass:"is-small"},[t._v("Sensores disponíveis:\n    "),t._l(t.station.sensor,function(e,a){return s("span",{key:a},[a===t.station.sensor.length-1?s("span",[t._v("\n        "+t._s(e.descricao)+" ("+t._s(e.unidade)+").\n      ")]):s("span",[t._v("\n        "+t._s(e.descricao)+" ("+t._s(e.unidade)+"),\n      ")])])})],2):t._e(),t._v(" "),s("div",{staticClass:"tile is-ancestor",staticStyle:{"margin-top":"20px"}},[s("input-range",{on:{"hour-changed":t.updatedTime},model:{value:t.finalDate,callback:function(e){t.finalDate=e},expression:"finalDate"}}),t._v("\n      "+t._s(t.finalDate)+"\n    ")],1)]),t._v(" "),s("div",{staticClass:"container"},[s("div",{staticClass:"columns is-multiline is-variable is-2"},t._l(t.station.sensor,function(e,a){return s("div",{key:a,staticClass:"column is-2"},[s("sensor-data",{attrs:{s:e,payload:t.queryObj}})],1)}),0)])])},staticRenderFns:[]};var y=s("VU/8")(v,_,!1,function(t){s("0jDA")},"data-v-5210fe32",null).exports,b={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{},[s("h4",{staticClass:"title is-4 has-text-centered has-text-weight-light has-text-dark"},[t._v("Redes Sociais")]),t._v(" "),s("a",{staticClass:"button is-fullwidth is-google",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.userSignInWithGoogle(e)}}},[s("span",{staticClass:"icon"},[s("b-icon",{attrs:{icon:"google"}})],1),t._v(" "),s("span",[t._v("Acessar com o Google")])]),t._v(" "),s("a",{staticClass:"button is-fullwidth is-facebook",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.userSignInWithFacebook(e)}}},[s("span",{staticClass:"icon"},[s("b-icon",{attrs:{icon:"facebook"}})],1),t._v(" "),s("span",[t._v("Acessar com o Facebook")])]),t._v(" "),s("a",{staticClass:"button is-fullwidth is-twitter",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.userSignInWithTwitter(e)}}},[s("span",{staticClass:"icon"},[s("b-icon",{attrs:{icon:"twitter"}})],1),t._v(" "),s("span",[t._v("Acessar com o Twitter")])])])},staticRenderFns:[]};var w={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{},[s("h4",{staticClass:"title is-4 has-text-centered has-text-weight-light has-text-dark"},[t._v("Usuário e senha")]),t._v(" "),s("form",{on:{submit:t.userSignIn}},[s("b-field",{attrs:{label:"E-mail"}},[s("b-input",{attrs:{type:"email",placeholder:"cicrano@meu-email.com.br"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),t._v(" "),s("b-field",{attrs:{label:"Senha"}},[s("b-input",{attrs:{type:"password",placeholder:"senha segura","password-reveal":""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),t._v(" "),s("div",{attrs:{error:t.showError}}),t._v(" "),s("button",{staticClass:"button is-primary is-fullwidth",attrs:{type:"submit",disabled:t.loading}},[t._v("Entrar")])],1),t._v(" "),s("p",{staticClass:"is-size-7"})])},staticRenderFns:[]};var C={name:"SignIn",data:function(){return{}},methods:{},computed:{error:function(){return this.$store.state.auth.error},loading:function(){return this.$store.state.auth.loading}},components:{SocialSignIn:s("VU/8")({name:"SocialSignIn",data:function(){return{}},methods:{userSignInWithGoogle:function(){this.$store.dispatch("userSignInWithGoogle")},userSignInWithFacebook:function(){this.$store.dispatch("userSignInWithFacebook")},userSignInWithTwitter:function(){this.$store.dispatch("userSignInWithTwitter")}},computed:{error:function(){return this.$store.state.auth.error},loading:function(){return this.$store.state.auth.loading}},components:{}},b,!1,function(t){s("rypl")},null,null).exports,EmailSignIn:s("VU/8")({name:"EmailSignIn",data:function(){return{email:"",password:""}},methods:{userSignIn:function(){this.$store.dispatch("userSignIn",{email:this.email,password:this.password})},showError:function(){this.$toast.open(this.error)}},computed:{error:function(){return this.$store.state.auth.error},loading:function(){return this.$store.state.auth.loading}},components:{}},w,!1,function(t){s("v2nT")},null,null).exports}},S={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"hero is-dark is-fullheight"},[s("div",{staticClass:"hero-body"},[s("div",{staticClass:"container"},[s("div",{staticClass:"columns is-centered"},[s("div",{staticClass:"column is-4"},[s("div",{staticClass:"box"},[s("social-sign-in"),t._v(" "),s("hr"),t._v(" "),s("email-sign-in"),t._v(" "),s("p",{staticClass:"is-size-7"},[s("router-link",{attrs:{to:{name:"signup"}}},[t._v("Quero me cadastrar")]),t._v(" "),s("br"),t._v(" "),s("router-link",{attrs:{to:{name:"PrivacyPolicy"}}},[t._v("Veja aqui nossa política de privacidade")])],1)],1)])])])]),t._v(" "),s("b-loading",{attrs:{active:t.loading,canCancel:!0},on:{"update:active":function(e){t.loading=e}}})],1)},staticRenderFns:[]};var E=s("VU/8")(C,S,!1,function(t){s("NOQR")},"data-v-ea2ff094",null).exports,$={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"hero is-fullheight"},[s("div",{staticClass:"hero-body"},[s("div",{staticClass:"container"},[s("div",{staticClass:"columns is-centered"},[s("div",{staticClass:"column is-4"},[s("div",{staticClass:"box"},[s("h4",{staticClass:"title is-4 has-text-centered has-text-weight-light"},[t._v("Cadastre-se")]),t._v(" "),s("form",{on:{submit:t.userSignUp}},[s("b-field",{attrs:{label:"Nome completo"}},[s("b-input",{attrs:{required:"",placeholder:"Cicrano da Silva"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),t._v(" "),s("b-field",{attrs:{label:"Email"}},[s("b-input",{attrs:{type:"email",required:"",placeholder:"cicrano@meu-email.com.br"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),t._v(" "),s("b-field",{attrs:{label:"Senha"}},[s("b-input",{attrs:{type:"password",required:"",placeholder:"senha segura","password-reveal":""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),t._v(" "),s("b-field",{attrs:{label:"Confirmar senha"}},[s("b-input",{attrs:{type:"password",required:"",placeholder:"senha segura","password-reveal":""},model:{value:t.confirmPassword,callback:function(e){t.confirmPassword=e},expression:"confirmPassword"}})],1),t._v(" "),s("button",{staticClass:"button is-primary is-fullwidth",attrs:{type:"submit",disabled:t.loading}},[t._v("Confirmar cadastro")])],1),t._v(" "),s("p",{staticClass:"is-size-7"},[t._v("\n            Já tenho cadastro. "),s("router-link",{attrs:{to:{name:"signin"}}},[t._v("Quero entrar")]),t._v(".\n          ")],1)])])])])]),t._v(" "),s("b-loading",{attrs:{active:t.loading,canCancel:!0},on:{"update:active":function(e){t.loading=e}}})],1)},staticRenderFns:[]};var k=s("VU/8")({name:"SignUp",data:function(){return{name:"",email:"",password:"",confirmPassword:""}},computed:{comparePasswords:function(){return this.password===this.confirmPassword},error:function(){return this.$store.state.error},loading:function(){return this.$store.state.loading}},methods:{userSignUp:function(){if(!1===this.comparePasswords)return this.$store.commit("setError","As senhas não conferem."),void this.$toast.open({duration:5e3,message:"As senhas não conferem.",position:"is-bottom-right",type:"is-danger"});this.$store.dispatch("userSignUp",{name:this.name,email:this.email,password:this.password})}},components:{}},$,!1,function(t){s("vrZ6")},"data-v-e6ae3f72",null).exports;a.default.use(c.a);var x=new c.a({routes:[{path:"/",name:"index",component:l},{path:"/sensores",name:"sensors",component:m},{path:"/estacao/:estado/:cidade/:codigo",name:"station",component:y},{path:"/signin",name:"signin",component:E},{path:"/signup",name:"signup",component:k}]}),D={name:"Menu",data:function(){return{}},created:function(){},mounted:function(){this.toggleMainMenu()},methods:{toggleMainMenu:function(){document.addEventListener("DOMContentLoaded",function(){var t=Array.prototype.slice.call(document.querySelectorAll(".navbar-burger"),0);t.length>0&&t.forEach(function(t){t.addEventListener("click",function(){var e=t.dataset.target,s=document.getElementById(e);t.classList.toggle("is-active"),s.classList.toggle("is-active")})})})}},computed:{},components:{}},L={render:function(){var t=this.$createElement,e=this._self._c||t;return e("nav",{staticClass:"navbar is-fixed-top is-transparent"},[this._m(0),this._v(" "),e("div",{staticClass:"navbar-menu",attrs:{id:"menu"}},[e("div",{staticClass:"navbar-start"},[e("router-link",{staticClass:"navbar-item",attrs:{to:{name:"index"}}},[this._v("\n          Página Inicial\n        ")]),this._v(" "),e("router-link",{staticClass:"navbar-item",attrs:{to:{name:"sensors"}}},[this._v("\n          Sensores disponíveis\n        ")])],1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"navbar-brand"},[e("p",{staticClass:"navbar-item"},[e("span",[this._v("valber.io")])]),this._v(" "),e("div",{staticClass:"navbar-burger burger",attrs:{"data-target":"menu"}},[e("span"),this._v(" "),e("span"),this._v(" "),e("span")])])}]};var U=s("VU/8")(D,L,!1,function(t){s("0gJ/")},"data-v-1267775f",null).exports,I={name:"Tile",props:["code"],data:function(){return{title:"Título",updated_at:"07/02/2019 - 12:00:00"}},created:function(){},mounted:function(){this.methodName()},methods:{methodName:function(){console.log("tile component")}},computed:{},components:{}},A={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tile is-parent"},[e("article",{staticClass:"tile is-child box"},[e("p",{staticClass:"title"},[this._v(this._s(this.title))]),this._v(" "),e("p",{staticClass:"subtitle"},[this._v("atualizado em: "+this._s(this.updated_at))])])])},staticRenderFns:[]};var B=s("VU/8")(I,A,!1,function(t){s("BgXi")},"data-v-4a49a15c",null).exports,M={name:"Sensor",props:["s"],data:function(){return{description:"Descrição do sensor",unit:"ºC"}},created:function(){},mounted:function(){this.methodName()},methods:{methodName:function(){console.log("sensor component")},sensorIcon:function(t){var e={1:"weather-windy",2:"temperature-celsius",3:"temperature-celsius",4:"temperature-celsius",5:"weather-pouring",9:"temperature-celsius",13:"temperature-celsius",17:"flash",18:"weather-windy",19:"",20:"weather-windy",22:"weather-rainy",24:"weather-fog",26:"weather-windy",27:"temperature-celsius",28:"temperature-celsius",29:"temperature-celsius",30:"weather-windy",31:"weather-windy",32:"weather-windy",33:"weather-windy",36:"temperature-celsius",37:"temperature-celsius",38:"temperature-celsius",40:"temperature-celsius",48:"temperature-celsius",41:"cup-water",47:"white-balance-sunny",50:"weather-windy",52:"weather-windy",55:"temperature-celsius",56:"temperature-celsius",59:"weather-rainy",60:"weather-rainy",62:"weather-windy",6:"water-percent",53:"water-pump",61:"water-percent",98:"terrain",99:"water-percent",100:"battery-40"};return e.hasOwnProperty(t)?e[t]:"chip"}},computed:{},components:{}},P={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"box has-text-centered"},[s("b-icon",{attrs:{icon:t.sensorIcon(t.s.codigo),size:"is-medium"}}),t._v(" "),s("p",{staticClass:"subtitle"},[t._v(t._s(t.s.descricao))]),t._v(" "),s("p",{staticClass:"subtitle"},[t._v("unidade: "+t._s(t.s.unidade))])],1)},staticRenderFns:[]};var N=s("VU/8")(M,P,!1,function(t){s("rw4T")},"data-v-523c6afc",null).exports,T={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tile is-parent"},[s("article",{staticClass:"tile is-child box"},[s("p",{staticClass:"title"},[t._v("Escolha uma cidade")]),t._v(" "),s("b-field",[s("b-autocomplete",{attrs:{data:t.filteredDataArray,placeholder:"ex. Fortaleza",icon:"magnify"},on:{select:function(e){return t.selected=e}},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}},[s("template",{slot:"empty"},[t._v("Nenhuma cidade encontrada")])],2)],1),t._v(" "),t.selected?s("p",{staticClass:"subtitle"},[t._v("Estações")]):t._e(),t._v(" "),s("div",{staticClass:"content"},[s("ol",{attrs:{type:"1"}},t._l(t.paginatedItems,function(e,a){return s("li",{key:a},[s("router-link",{attrs:{to:{name:"station",params:{codigo:e.codigo,estado:e.municipio.uf,cidade:e.municipio.nome}}}},[t._v("\n            "+t._s(e.nome)+"\n          ")]),t._v("\n            ("+t._s(e.tipo_estacao.descricao)+")\n          "),s("ol",{staticStyle:{"margin-top":"0","margin-bottom":"0.5em"},attrs:{type:"a"}},[e.localizacao?s("li",[t._v("Localização: "+t._s(e.localizacao))]):t._e()])],1)}),0),t._v(" "),s("b-loading",{attrs:{"is-full-page":t.fullpage,active:t.loading,"can-cancel":!0},on:{"update:active":function(e){t.loading=e}}})],1),t._v(" "),s("b-pagination",{attrs:{total:t.stationsByCity.length,current:t.current,"per-page":t.perPage},on:{"update:current":function(e){t.current=e}}})],1)])},staticRenderFns:[]};var F=s("VU/8")({name:"StationsByCity",data:function(){return{data:this.cities,station:"",name:"",selected:null,current:1,perPage:5,fullpage:!1}},beforeCreate:function(){this.$store.dispatch("getCities")},created:function(){},computed:{filteredDataArray:function(){var t=this;return this.cities.filter(function(e){return e.toString().toLowerCase().indexOf(t.name.toLowerCase())>=0})},paginatedItems:function(){var t=this.current-1;return this.stationsByCity.slice(t*this.perPage,(t+1)*this.perPage)},cities:function(){return this.$store.state.stations.cities},stationsByCity:function(){return this.$store.state.stations.stationsByCity},loading:function(){return this.$store.state.stations.loading},error:function(){return this.$store.state.stations.error},errorMsg:function(){return this.$store.state.stations.errorMsg}},watch:{selected:function(){null===this.selected||this.$store.dispatch("getStationsByCity",this.selected)}}},T,!1,function(t){s("UdK6")},"data-v-0cc23690",null).exports,R={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tile is-parent"},[s("article",{staticClass:"tile is-child box"},[s("p",{staticClass:"title"},[t._v("Escolha um ou mais sensores")]),t._v(" "),s("b-field",[s("div",{staticClass:"columns is-multiline is-variable is-2"},t._l(t.sensors,function(e,a){return s("div",{key:a,staticClass:"column is-2"},[s("b-checkbox",{attrs:{"native-value":e.codigo},model:{value:t.sensorsGroup,callback:function(e){t.sensorsGroup=e},expression:"sensorsGroup"}},[t._v("\n            "+t._s(e.descricao)+" (código: "+t._s(e.codigo)+")\n          ")])],1)}),0)]),t._v(" "),t.selected?s("p",{staticClass:"subtitle"},[t._v("Estações")]):t._e(),t._v(" "),s("div",{staticClass:"content"},[s("ol",{attrs:{type:"1"}},t._l(t.paginatedItems,function(e,a){return s("li",{key:a},[s("router-link",{attrs:{to:{name:"station",params:{codigo:e.codigo,estado:e.municipio.uf,cidade:e.municipio.nome}}}},[t._v("\n            "+t._s(e.nome)+"\n          ")]),t._v("\n            ("+t._s(e.tipo_estacao.descricao)+" - código: "+t._s(e.codigo)+")\n          "),s("ol",{staticStyle:{"margin-top":"0","margin-bottom":"0.5em"},attrs:{type:"a"}},[e.localizacao?s("li",[t._v("Localização: "+t._s(e.localizacao))]):t._e()])],1)}),0),t._v(" "),s("b-loading",{attrs:{"is-full-page":t.fullpage,active:t.loading,"can-cancel":!0},on:{"update:active":function(e){t.loading=e}}})],1),t._v(" "),s("b-pagination",{attrs:{total:t.stationsBySensor.length,current:t.current,"per-page":t.perPage},on:{"update:current":function(e){t.current=e}}})],1)])},staticRenderFns:[]};var O=s("VU/8")({name:"StationsBySensor",data:function(){return{data:this.sensors,sensorsGroup:[],station:"",name:"",selected:null,current:1,perPage:5,fullpage:!1}},beforeCreate:function(){this.$store.dispatch("getSensors")},created:function(){},computed:{paginatedItems:function(){var t=this.current-1;return this.stationsBySensor.slice(t*this.perPage,(t+1)*this.perPage)},sensors:function(){return this.$store.state.sensors.sensors},cities:function(){return this.$store.state.stations.cities},stationsBySensor:function(){return this.$store.state.stations.stationsBySensor},loading:function(){return this.$store.state.stations.loading},error:function(){return this.$store.state.stations.error},errorMsg:function(){return this.$store.state.stations.errorMsg}},watch:{sensorsGroup:function(){0===this.sensorsGroup.length||this.$store.dispatch("getStationsBySensor",this.sensorsGroup)}}},R,!1,function(t){s("ZX8K")},"data-v-10615b5e",null).exports,V=s("NYxO"),W=s("lHA8"),z=s.n(W),q=s("Gu7T"),G=s.n(q),j=s("mtWM"),K=s.n(j),Q={state:{cities:[],stationsByCity:[],stationsBySensor:[],stationByCode:{},error:!1,errorMessage:null,loading:!1},getters:{},actions:{getCities:function(t){var e=t.commit;t.state;e("setLoading",!0);var s=[];K.a.get("http://api.funceme.br/rest/pcd/estacao?limit=500&municipio.uf=CE").then(function(t){var a=t.data.list;for(var n in a)s.push(a[n].municipio.nome);var i=[].concat(G()(new z.a(s)));e("setCities",i)}).catch(function(t){console.log("error:",t.toString()),e("setError",!0),e("setErrorMessage",t.toString().split(":")[1])}).finally(function(){e("setLoading",!1)})},getStationsByCity:function(t,e){var s=t.commit;t.state;s("setLoading",!0);var a=[],n="http://api.funceme.br/rest/pcd/estacao?limit=100&municipio.uf=CE&municipio.nome="+e.toString();K.a.get(n).then(function(t){a=t.data.list,s("setStationsByCity",a)}).catch(function(t){console.log("error:",t.toString()),s("setError",!0),s("setErrorMessae",t.toString().split(":")[1])}).finally(function(){s("setLoading",!1)})},getStationByCode:function(t,e){var s=t.commit;t.state;s("setLoading",!0);var a={},n="http://api.funceme.br/rest/pcd/estacao?&municipio.uf="+e.estado.toString()+"&municipio.nome="+e.cidade.toString()+"&codigo="+e.codigo.toString();K.a.get(n).then(function(t){a=t.data.list,s("setStationByCode",a)}).catch(function(t){console.log("error:",t.toString()),s("setError",!0),s("setErrorMessae",t.toString().split(":")[1])}).finally(function(){s("setLoading",!1)})},getStationsBySensor:function(t,e){var s=t.commit;t.state;s("setLoading",!0),console.log(e);var a=[];K.a.get("http://api.funceme.br/rest/pcd/estacao?limit=500&municipio.uf=CE").then(function(t){var n=t.data.list,i=[];for(var r in console.log(t.data.list),n)if(void 0!==n[r].sensor&&0!==n[r].sensor.length){for(var o in n[r].sensor)i.push(n[r].sensor[o].codigo);e.every(function(t){return i.indexOf(t)>=0})&&a.push(n[r]),i=[]}var c=[].concat(G()(new z.a(a)));s("setStationsBySensor",c)}).catch(function(t){console.log("error:",t.toString()),s("setError",!0),s("setErrorMessae",t.toString().split(":")[1])}).finally(function(){s("setLoading",!1)})}},mutations:{setCities:function(t,e){t.cities=e},setStationsByCity:function(t,e){t.stationsByCity=e},setStationByCode:function(t,e){t.stationByCode=e},setStationsBySensor:function(t,e){t.stationsBySensor=e},setLoading:function(t,e){t.loading=e},setError:function(t,e){t.error=e},setErrorMessage:function(t,e){t.errorMessage=e}}},X={state:{sensors:[],sensorData:{},error:!1,errorMessage:null,loading:!1},getters:{},actions:{getSensors:function(t){var e=t.commit;t.state;e("setLoading",!0);var s=[],a="http://api.funceme.br/rest/pcd/sensor?limit=100";console.log("getting url:",a),K.a.get(a).then(function(t){s=t.data.list,e("setSensors",s)}).catch(function(t){console.log("error:",t.toString()),e("setError",!0),e("setErrorMessage",t.toString().split(":")[1])}).finally(function(){e("setLoading",!1)})},getDataSensor:function(t,e){var s=t.commit;t.state;s("setLoading",!0);var a=[],n="http://api.funceme.br/rest/pcd/dado-sensor?data="+e.data.toString()+"&estacao.codigo="+e.estacao.codigo.toString()+"&sensor.codigo="+e.codigo.toString()+"&orderBy=data,DESC";K.a.get(n).then(function(t){a=t.data.list.valor,s("setSensorData",a)}).catch(function(t){console.log("error:",t.toString()),s("setError",!0),s("setErrorMessage",t.toString().split(":")[1])}).finally(function(){s("setLoading",!1)})}},mutations:{setSensors:function(t,e){t.sensors=e},setLoading:function(t,e){t.loading=e},setError:function(t,e){t.error=e},setErrorMessage:function(t,e){t.errorMessage=e}}},H={state:{user:null,error:null,loading:!1,admin:!1},getters:{isAuthenticated:function(t){return null!==t.user&&void 0!==t.user},isAdmin:function(t){return!1!==t.admin&&null!==t.admin&&void 0!==t.admin}},actions:{userSignUp:function(t,e){var s=t.commit;t.dispatch;s("setLoading",!0),i.a.auth().createUserWithEmailAndPassword(e.email,e.password).then(function(){var t=i.a.auth().currentUser;t.updateProfile({displayName:e.name}),i.a.database().ref("admins").child(t.uid).set({email:t.email});var a={email:t.email,displayName:e.name};s("setUser",a),s("setLoading",!1),x.push("/")}).catch(function(t){s("setError",t.message),s("setLoading",!1)})},userSignIn:function(t,e){var s=t.commit,a=t.dispatch;s("setLoading",!0),i.a.auth().signInWithEmailAndPassword(e.email,e.password).then(function(t){var e={email:t.email,displayName:t.displayName};i.a.database().ref("admins").once("value",function(t){t.forEach(function(t){var a=t.val();!0===a.admin&&e.email===a.email&&s("setAdmin",!0)})}),s("setUser",e),s("setError",null),s("setLoading",!1),x.push("/")}).catch(function(t){a("translateError",t),s("setLoading",!1)})},userSignInWithGoogle:function(t){var e=t.commit;e("setLoading",!0);var s=new i.a.auth.GoogleAuthProvider;i.a.auth().signInWithPopup(s).then(function(t){var s=t.user;e("setUser",{email:s.email,displayName:s.displayName,photoURL:s.photoURL}),e("setLoading",!1),e("setError",null),i.a.database().ref("admins").once("value",function(t){t.forEach(function(t){var a=t.val();!0===a.admin&&s.email===a.email&&e("setAdmin",!0)})}),x.push("/")}).catch(function(t){console.log(t.message)})},userSignInWithFacebook:function(t){var e=t.commit;e("setLoading",!0);var s=new i.a.auth.FacebookAuthProvider;s.addScope("user_birthday"),s.setCustomParameters({display:"popup"}),i.a.auth().signInWithPopup(s).then(function(t){var s=t.user;e("setUser",{email:s.email,displayName:s.displayName,photoURL:s.photoURL}),e("setLoading",!1),e("setError",null),i.a.database().ref("admins").once("value",function(t){t.forEach(function(t){var a=t.val();!0===a.admin&&s.email===a.email&&e("setAdmin",!0)})}),x.push("/")})},userSignInWithTwitter:function(t){var e=t.commit;e("setLoading",!0);var s=new i.a.auth.TwitterAuthProvider;i.a.auth().signInWithPopup(s).then(function(t){var s=t.user;e("setUser",{email:s.email,displayName:s.displayName,photoURL:s.photoURL}),e("setLoading",!1),e("setError",null),i.a.database().ref("admins").once("value",function(t){t.forEach(function(t){var a=t.val();!0===a.admin&&a.email===s.email&&e("setAdmin",!0)})}),x.push("/")}).catch(function(t){console.log("Um erro aconteceu"),console.log(t.code),console.log(t.message)})},autoSignIn:function(t,e){var s=t.commit,a={email:e.email,displayName:e.displayName,photoURL:e.photoURL};i.a.database().ref("admins").once("value",function(t){t.forEach(function(t){var e=t.val();!0===e.admin&&a.email===e.email&&s("setAdmin",!0)})}),s("setUser",a)},userSignOut:function(t){var e=t.commit;i.a.auth().signOut(),e("setUser",null),e("setAdmin",!1),x.push("/")},translateError:function(t,e){var s=t.commit;t.state;"auth/wrong-password"===e.code?s("setError","Senha inválida ou usuário não tem senha cadastrada."):"auth/user-not-found"===e.code?s("setError","Não encontramos nenhum usuário com este e-mail. Verifique o e-mail e tente novamente."):"auth/too-many-requests"===e.code&&s("setError","Nós bloqueamos todas as requisições deste dispositivo. Tente novamente mais tarde.")}},mutations:{setAdmin:function(t,e){t.admin=e},setUser:function(t,e){t.user=e},setError:function(t,e){t.error=e},setLoading:function(t,e){t.loading=e}}};a.default.use(V.a);var J=new V.a.Store({modules:{stations:Q,sensors:X,auth:H},state:{app_title:"Vue.js Base Project",app_subtitle:"Simple...",loading:!1},mutations:{setLoading:function(t,e){t.loading=e}},actions:{setAppConfiguration:function(t,e){t.commit;var s=t.state;Object(n.database)().ref("app-configurations").update({title:s.app_title,subtitle:s.app_subtitle})}}}),Y={apiKey:"AIzaSyA2VY919zGa-NDhkuz0fnWAnnMycgKAYHY",authDomain:"vuejs-base.firebaseapp.com",databaseURL:"https://vuejs-base.firebaseio.com",projectId:"vuejs-base",storageBucket:"",messagingSenderId:"102389013193"},Z=s("O3Oo"),tt=s.n(Z);s("/KV2");a.default.use(tt.a),s("UQ8B"),s("n4oI"),s("EfXr"),a.default.component("main-menu",U),a.default.component("tile",B),a.default.component("sensor",N),a.default.component("stations-by-city",F),a.default.component("stations-by-sensor",O),a.default.config.productionTip=!1,new a.default({el:"#app",router:x,store:J,components:{App:o},template:"<App/>",created:function(){Object(n.initializeApp)(Y)}})},NOQR:function(t,e){},UQ8B:function(t,e){},UdK6:function(t,e){},UgDq:function(t,e){},X1Ge:function(t,e){},ZX8K:function(t,e){},d5cN:function(t,e){},frSf:function(t,e){},n4oI:function(t,e){},rw4T:function(t,e){},rypl:function(t,e){},v2nT:function(t,e){},vrZ6:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.00ce5e257206e6ceedf8.js.map